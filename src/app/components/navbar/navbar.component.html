<nav class="navbar">
    <div class="logo" routerLink="/feed">MemeApp</div>

    <ng-container *ngIf="authService.currentUser$ | async as currentUser; else guestControls">
        <div class="links">
            <a routerLink="/feed" routerLinkActive="active">Feed</a>
            <a routerLink="/compose" routerLinkActive="active">Compose</a>
            <a routerLink="/me" routerLinkActive="active">Profile</a>
            <span class="username">ðŸ‘¤ {{ currentUser.username }}</span>
            <button (click)="logout()" class="logout-btn">Logout</button>
        </div>
    </ng-container>

    <ng-template #guestControls>
        <div class="links">
            <a routerLink="/auth/login">Login</a>
            <a routerLink="/auth/register">Register</a>
        </div>
    </ng-template>
</nav>